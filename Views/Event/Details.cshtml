@model EventDeneme.Models.EventDetailViewModel

@{
    ViewBag.Title = Model.Title;
    Layout = "~/Views/Shared/_Layout.cshtml";

    bool isPast = ViewBag.IsPastEvent == true;
}

<section class="event-hero">
    <img src="@Url.Content(Model.ImageUrl ?? "~/images/login_background.png")" alt="@Model.Title">
    <div class="event-hero-overlay"></div>

    <div class="event-hero-content">
        <h1>@Model.Title</h1>

        <p>
            @Model.Date - @Model.Venue
        </p>

        @if (!isPast)
        {
            <a href="@Url.Action("Buy", "Ticket", new { id = Model.EventId })" class="buy-btn">Buy Ticket</a>
        }
        else
        {
            <span class="ended-btn">Event Ended</span>
        }
    </div>
</section>

@if (isPast)
{
    <div class="past-event-warning">
        <i class="fa-solid fa-clock-rotate-left"></i>
        This event has already ended.
    </div>
}

<section class="event-info">
    <div class="info-box">
        <i class="fa-solid fa-calendar"></i>
        <div>
            <h3>Date & Time</h3>
            <p>@Model.Date</p>
        </div>
    </div>

    <div class="info-box">
        <i class="fa-solid fa-location-dot"></i>
        <div>
            <h3>Venue</h3>
            <p>@Model.Venue</p>
        </div>
    </div>

    <div class="info-box">
        <i class="fa-solid fa-ticket"></i>
        <div>
            <h3>Starting Price</h3>
            <p>â‚º@Model.Price</p>
        </div>
    </div>
</section>

<section class="event-description">
    <h2>About This Event</h2>
    <p>@Model.Description</p>
</section>

<style>
    .event-hero {
        position: relative;
        width: 100%;
        height: 720px;
        overflow: hidden;
        border-radius: 0 0 25px 25px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

        .event-hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

    .event-hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.7));
    }

    .event-hero-content {
        position: absolute;
        bottom: 40px;
        left: 40px;
        color: white;
    }

        .event-hero-content h1 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .event-hero-content p {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

    .buy-btn, .ended-btn {
        padding: 12px 28px;
        border-radius: 12px;
        font-weight: 600;
        text-decoration: none;
    }

    .buy-btn {
        background: #d22;
        color: white;
        transition: 0.3s;
    }

        .buy-btn:hover {
            background: black;
        }

    .ended-btn {
        background: gray;
        color: white;
        cursor: not-allowed;
    }

    .past-event-warning {
        background: #ffe5e5;
        color: #c01f1f;
        padding: 14px 20px;
        margin: 25px auto;
        max-width: 900px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
        border-left: 4px solid #d22;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }

        .past-event-warning i {
            font-size: 22px;
        }

    .event-info {
        display: flex;
        justify-content: space-between;
        margin: 40px auto;
        max-width: 900px;
        gap: 20px;
    }

    .info-box {
        display: flex;
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        gap: 15px;
        flex: 1;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        transition: 0.5s ease;
    }
    .info-box:hover{
        transform:translateY(-10px);
    }

        .info-box i {
            font-size: 28px;
            color: #d22;
        }

        .info-box h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .info-box p {
            margin: 5px 0 0;
            color: #555;
        }

    .event-description {
        max-width: 900px;
        margin: 50px auto;
        padding: 20px;
    }

        .event-description h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .event-description p {
            color: #444;
            line-height: 1.6;
        }
</style>
